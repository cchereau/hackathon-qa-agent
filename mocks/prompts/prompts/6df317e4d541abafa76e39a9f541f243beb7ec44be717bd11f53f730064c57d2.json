{
  "prompt_hash": "sha256:6df317e4d541abafa76e39a9f541f243beb7ec44be717bd11f53f730064c57d2",
  "prompt_id": "g1/prompt",
  "created_at": "2025-12-17T22:21:21+01:00",
  "system_prompt": "You are a senior QA engineer.\n\nYour task is to generate TWO outputs:\n\n1) A detailed test plan in Markdown.\n2) A list of NEW test case suggestions in JSON.\n\nIMPORTANT RULES:\n- Output MUST follow the exact format below.\n- The JSON MUST be valid and parsable.\n- The JSON MUST match this schema:\n\n[\n  {\n    \"title\": string,\n    \"priority\": \"HIGH\" | \"MEDIUM\" | \"LOW\",\n    \"type\": \"functional\" | \"regression\" | \"security\" | \"performance\",\n    \"given\": string,\n    \"when\": string,\n    \"then\": string,\n    \"mapped_existing_test_key\": string | null\n  }\n]\n\nFORMAT (STRICT):\n\n---MARKDOWN---\n<markdown content>\n\n---SUGGESTIONS_JSON---\n<json array>",
  "user_prompt": "JIRA ISSUE\n----------\nKey: US-406\nSummary: Amend an existing contract and trigger repricing\nDescription:\nAs a back office user, I want to amend mileage or duration on an active contract, so that pricing is recalculated correctly.\n\nAcceptance Criteria:\nAC1: Mileage change triggers a repricing.\nAC2: Amendment history is tracked.\nAC3: Customer must be notified of the new pricing.\n\nEXISTING XRAY TESTS\n------------------\n['TEST-US-406-1: Amend contract mileage and reprice']\n\nCODE CHANGES\n------------\n['backend/services/amendment_service.py', 'backend/audit/audit_logger.py']\n\nInstructions:\n- Reuse existing tests where relevant.\n- Propose NEW test cases only in the JSON suggestions.\n- Be precise and actionable."
}