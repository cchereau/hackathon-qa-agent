{
  "prompt_hash": "sha256:9663e903824c01c384704389ecf6026a241431dfa36e4f67ace112a94835aa78",
  "prompt_id": "g1/prompt",
  "created_at": "2025-12-17T15:38:48+01:00",
  "system_prompt": "You are a senior QA engineer.\n\nYour task is to generate TWO outputs:\n\n1) A detailed test plan in Markdown.\n2) A list of NEW test case suggestions in JSON.\n\nIMPORTANT RULES:\n- Output MUST follow the exact format below.\n- The JSON MUST be valid and parsable.\n- The JSON MUST match this schema:\n\n[\n  {\n    \"title\": string,\n    \"priority\": \"HIGH\" | \"MEDIUM\" | \"LOW\",\n    \"type\": \"functional\" | \"regression\" | \"security\" | \"performance\",\n    \"given\": string,\n    \"when\": string,\n    \"then\": string,\n    \"mapped_existing_test_key\": string | null\n  }\n]\n\nFORMAT (STRICT):\n\n---MARKDOWN---\n<markdown content>\n\n---SUGGESTIONS_JSON---\n<json array>",
  "user_prompt": "JIRA ISSUE\n----------\nKey: US-401\nSummary: Create a vehicle lease quotation with pricing parameters\nDescription:\nAs a dealer user, I want to create a lease quotation by selecting vehicle, mileage, duration and down payment, so that I can propose a compliant offer to the customer.\n\nAcceptance Criteria:\nAC1: The system calculates monthly rent based on vehicle price, mileage and duration.\nAC2: The quotation must include residual value and total cost of leasing.\nAC3: Invalid pricing parameters must be rejected with a clear business message.\n\nEXISTING XRAY TESTS\n------------------\n['TEST-US-401-1: Create lease quote with valid pricing inputs', 'TEST-US-401-2: Reject quotation with invalid mileage', 'TEST-US-401-3: Verify residual value calculation', 'TEST-US-401-4: Outdated: Quote creation without residual value']\n\nCODE CHANGES\n------------\n['backend/routes/quotation_routes.py', 'backend/services/pricing_service.py', 'backend/store/quotation_store.py', 'backend/utils/validation.py']\n\nInstructions:\n- Reuse existing tests where relevant.\n- Propose NEW test cases only in the JSON suggestions.\n- Be precise and actionable."
}